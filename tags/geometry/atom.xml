<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title>Adam&#x27;s Entropy - geometry</title>
    <subtitle>One particular random walk through life.</subtitle>
    <link rel="self" type="application/atom+xml" href="https://www.adamgetchell.org/tags/geometry/atom.xml"/>
    <link rel="alternate" type="text/html" href="https://www.adamgetchell.org"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2025-12-27T15:10:20-08:00</updated>
    <id>https://www.adamgetchell.org/tags/geometry/atom.xml</id>
    <entry xml:lang="en">
        <title>Building Delaunay Triangulations</title>
        <published>2025-12-27T15:10:20-08:00</published>
        <updated>2025-12-27T15:10:20-08:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://www.adamgetchell.org/posts/2025-12-27-building-delaunay-triangulations/"/>
        <id>https://www.adamgetchell.org/posts/2025-12-27-building-delaunay-triangulations/</id>
        
        <content type="html" xml:base="https://www.adamgetchell.org/posts/2025-12-27-building-delaunay-triangulations/">&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.adamgetchell.org&#x2F;posts&#x2F;designing-a-metropolis-class&#x2F;&quot;&gt;Awhile ago&lt;&#x2F;a&gt;, I started discussing the internals of a Metropolis class for &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;grokipedia.com&#x2F;page&#x2F;Markov_chain_Monte_Carlo&quot;&gt;MCMC&lt;&#x2F;a&gt; sampling of ensembles
produced by causal dynamical triangulations, a promising approach to quantum gravity that allows the use of computers. Well, since then I&#x27;ve experienced
a number of things:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.cgal.org&#x2F;&quot;&gt;CGAL&lt;&#x2F;a&gt; is an amazing library with decades of scholarship behind it. However, to make use of it &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acgetchell&#x2F;CDT-plusplus&quot;&gt;my implementation&lt;&#x2F;a&gt; required over
160 other C++ libraries, including heavyweight dependencies like &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.boost.org&#x2F;&quot;&gt;Boost&lt;&#x2F;a&gt; and &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;eigen.tuxfamily.org&#x2F;dox&#x2F;&quot;&gt;Eigen&lt;&#x2F;a&gt;. I spent more time managing these dependencies than I
did writing useful code to take advantage of CGAL&#x27;s capabilities.&lt;&#x2F;li&gt;
&lt;li&gt;I also found that implementing the &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.sciencedirect.com&#x2F;science&#x2F;article&#x2F;pii&#x2F;S0195669813800807&quot;&gt;Pachner&lt;&#x2F;a&gt; moves necessary for &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;hep-th&#x2F;0105267&quot;&gt;CDT&lt;&#x2F;a&gt; was more difficult than I expected, and I alternated between making progress and getting stuck on various issues ranging from various library bugs, to &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acgetchell&#x2F;bistellar-flip&#x2F;&quot;&gt;impedance mismatches&lt;&#x2F;a&gt;, down to compiler-level issues.&lt;&#x2F;li&gt;
&lt;li&gt;Finally, I discovered that my particular use case for &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.cgal.org&#x2F;&quot;&gt;CGAL&lt;&#x2F;a&gt; involved millions of repeated re-triangulations that resulted in various memory leaks, segfaults, and other impossible-for-me-to-debug issues. (Ironically, just keeping my project up-to-date I filed many, &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;search?q=author%3Aacgetchell+is%3Aissue+cgal&amp;amp;type=issues&quot;&gt;many bug reports&lt;&#x2F;a&gt; exposing issues not seen in usual test cases.)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;All of this finally tipped the balance from &quot;use these battle-tested libraries&quot; to &quot;roll my own implementation&quot;.&lt;&#x2F;p&gt;
&lt;p&gt;After this experience, I decided that I wanted:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;A performant, memory and thread-safe language that allows me to do low-level things while managing complexity&lt;&#x2F;li&gt;
&lt;li&gt;Ideally with a functional programming paradigm to make reasoning about code easier&lt;&#x2F;li&gt;
&lt;li&gt;And a developer-friendly toolchain that makes things like &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;&quot;&gt;dependency management&lt;&#x2F;a&gt;, &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;stable&#x2F;clippy&#x2F;index.html&quot;&gt;linting&lt;&#x2F;a&gt;, &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;book&#x2F;ch11-01-writing-tests.html&quot;&gt;testing&lt;&#x2F;a&gt;, and &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;commands&#x2F;cargo-doc.html&quot;&gt;documenting&lt;&#x2F;a&gt; easy instead of a constant struggle&lt;&#x2F;li&gt;
&lt;li&gt;With a reasonable &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;crates.io&#x2F;search?q=scientific%20computing&quot;&gt;ecosystem&lt;&#x2F;a&gt; of libraries for numerical computing, linear algebra, and data visualization&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;I chose &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.rust-lang.org&#x2F;&quot;&gt;Rust&lt;&#x2F;a&gt; ü¶Ä.&lt;&#x2F;p&gt;
&lt;p&gt;(I considered &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;julialang.org&#x2F;&quot;&gt;Julia&lt;&#x2F;a&gt;, but ruled out garbage-collected languages, which also eliminates &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.python.org&#x2F;&quot;&gt;Python&lt;&#x2F;a&gt;, despite it&#x27;s popularity in scientific computing.
To be fair, I do use Python for tooling and data analysis, just not for performance-critical code.)&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acgetchell&#x2F;CDT-plusplus&quot;&gt;This project&lt;&#x2F;a&gt; has already progressed through numerous iterations and languages.
The &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;1110.6875&quot;&gt;first implementation&lt;&#x2F;a&gt; I started working with was in &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.sbcl.org&quot;&gt;Lisp&lt;&#x2F;a&gt;; from there I attempted to port it to &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;clojure.org&#x2F;&quot;&gt;Clojure&lt;&#x2F;a&gt; and then &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;fsharp.org&#x2F;&quot;&gt;F#&lt;&#x2F;a&gt; before finding &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;www.cgal.org&#x2F;&quot;&gt;CGAL&lt;&#x2F;a&gt; and setting on a full re-write in &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;isocpp.org&#x2F;&quot;&gt;C++&lt;&#x2F;a&gt;. That, in turn, led to many years of struggle.&lt;&#x2F;p&gt;
&lt;p&gt;So, I started afresh with the building blocks&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;: implement a Delaunay triangulation library for Rust, using CGAL as a
reference implementation, with only the functionality I needed for &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;hep-th&#x2F;0105267&quot;&gt;CDT&lt;&#x2F;a&gt;. Originally this library was called &lt;code&gt;d-delaunay&lt;&#x2F;code&gt;, but then I found the
maintainer of the &lt;code&gt;delaunay&lt;&#x2F;code&gt; crate and after a brief discussion he agreed to transfer ownership to me. So now I&#x27;ve expanded the goals of the new crate to
also be useful for the original users. Along the way I completed a &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;letsgetrusty.com&quot;&gt;Rust bootcamp&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Then AI came along and turbocharged my development efficiency. (In fact, there were so many game-changing moments that I was convinced to pursue further research and studies, but that&#x27;s the topic for another post. üôÇ)&lt;&#x2F;p&gt;
&lt;p&gt;I have been able to rapidly iterate on the implementation. I have a much better understanding and appreciation for the algorithms in general and CGAL&#x27;s
design decisions in particular. And I have mostly followed CGAL&#x27;s design, with a few guiding principles:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Don&#x27;t Repeat Yourself (DRY) - I ‚ù§Ô∏è ü¶Ä macros!&lt;&#x2F;li&gt;
&lt;li&gt;You Ain&#x27;t Gonna Need It (YAGNI) - Only implement what is necessary, when it is necessary.&lt;&#x2F;li&gt;
&lt;li&gt;Idiomatic Rust - I hope that using this crate will feel natural to Rustaceans.&lt;&#x2F;li&gt;
&lt;li&gt;Performance &amp;amp; Memory Safety - This needs to be both fast and accurate. My &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acgetchell&#x2F;causal-dynamical-triangulations&quot;&gt;CDT use case&lt;&#x2F;a&gt; will re-triangulate millions of times per simulation. I ‚ù§Ô∏è ü¶Ä error handling!&lt;&#x2F;li&gt;
&lt;li&gt;Reproducibility &amp;amp; Accuracy - Floating point errors are the bane of computational geometry. The library needs to be tested against and handle a wide
range of edge cases. I ‚ù§Ô∏è &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;proptest&quot;&gt;Property-Based Testing&lt;&#x2F;a&gt;! (And &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;model-checking.github.io&#x2F;kani&#x2F;&quot;&gt;Kani&lt;&#x2F;a&gt; is a stretch goal for formal verification of critical algorithms.)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;So, after a few years of intermittent work, I present to you &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;delaunay&quot;&gt;delaunay&lt;&#x2F;a&gt; üì¶!&lt;&#x2F;p&gt;
&lt;p&gt;It&#x27;s still a work in progress, but I am excited about the how far I&#x27;ve come. You can see what&#x27;s been done in the &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acgetchell&#x2F;delaunay&#x2F;blob&#x2F;main&#x2F;CHANGELOG.md&quot;&gt;CHANGELOG.md&lt;&#x2F;a&gt; &lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;, as well as what I&#x27;m
still planning to do in the &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acgetchell&#x2F;delaunay&#x2F;issues&quot;&gt;issues&lt;&#x2F;a&gt; and &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;acgetchell&#x2F;delaunay&#x2F;tree&#x2F;main&#x2F;docs&quot;&gt;documentation&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;I look forward to sharing more about it in future posts!&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;Said building blocks expanded to include fast linear algebra, which I started off by using &lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;nalgebra&quot;&gt;nalgebra&lt;&#x2F;a&gt;, but then after testing wrote my own minimal
&lt;a rel=&quot;noopener nofollow noreferrer&quot; target=&quot;_blank&quot; href=&quot;https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;la-stack&quot;&gt;stack-based linear algebra library&lt;&#x2F;a&gt; optimized for small dimensions.&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;Generating these automatically from commits led to another Python side quest, which I hope to publish on PyPI.&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
        
    </entry>
</feed>
